$((function(){"use strict";$(document).on("click",".editable-role",(function(e){e.preventDefault();var a=$(this),t=a.data("id"),r=a.data("role-id");a.hide(),$.ajax({type:"POST",cache:!1,url:a.data("url"),success:function(e){var o=e.data.roles,c=e.data.url,n='<select class="role-select" data-user-id="'+t+'" data-url="'+c+'">';o.forEach((function(e){var a=e.id===r?"selected":"";n+='<option value="'.concat(e.id,'" ').concat(a,">").concat(e.name,"</option>")})),n+="</select>",a.after(n)},error:function(e){a.show()}})})),$(document).on("change",".role-select",(function(){var e=$(this),a=e.val(),t=e.data("user-id");e.remove(),$.ajax({type:"POST",url:e.data("url"),data:{userId:t,roleId:a},success:function(e){var a=$("#bng-acp-tables-user-table").DataTable();a.settings()[0].oFeatures.bProcessing=!1,a.ajax.reload(null,!1)},error:function(e){console.error("Failed to update role")}})}))}));